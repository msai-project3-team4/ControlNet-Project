<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ControlNet 변환 결과</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>ControlNet 변환 결과</h1>
    <div id="imageContainer" style="display: flex; gap: 10px; flex-wrap: wrap;"></div>
    <br>
    <a href="index.html">
      <button>다시 그리기</button>
    </a>
  </div>

  <script>
    // ✅ LocalStorage에서 이미지 URL 가져오기
    const imageContainer = document.getElementById("imageContainer");
    const storedImages = JSON.parse(localStorage.getItem("generatedImages"));

    console.log("📌 LocalStorage에서 가져온 이미지 목록:", storedImages);

    if (storedImages && storedImages.length > 0) {
      storedImages.forEach(url => {
        console.log("📌 이미지 URL 추가:", url);
        const img = document.createElement("img");
        img.src = url;
        img.alt = "변환된 이미지";
        img.style.width = "200px";
        img.style.margin = "10px";
        imageContainer.appendChild(img);
      });
    } else {
      console.error("❌ LocalStorage에서 가져온 이미지 목록이 비어 있음.");
      imageContainer.innerHTML = "<p style='color: red;'>🚨 이미지가 없습니다. API 응답을 확인하세요.</p>";
    }
  </script>
</body>
</html>
